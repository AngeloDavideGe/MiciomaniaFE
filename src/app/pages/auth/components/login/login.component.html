<div class="card-header text-center">
  <h3 class="h4">Login</h3>
</div>

<div class="card-body">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    @if (loginError) {
    <div class="text-danger mb-3">Email o password errati</div>
    }

    <div class="form-group mb-4">
      <label for="email" class="h5">Email</label>
      <input
        type="email"
        id="email"
        class="form-control form-control-lg"
        formControlName="email"
        [class]="{
          'is-invalid': f['email'].touched && f['email'].invalid
        }"
      />

      @if (f['email'].touched && f['email'].invalid) {
      <div class="invalid-feedback">
        @if (f['email'].errors?.['required']) {
        <div>Email richiesta.</div>
        } @if (f['email'].errors?.['email']) {
        <div>Formato email non valido.</div>
        }
      </div>
      }
    </div>

    <div class="form-group mb-4">
      <label for="password" class="h5">Password</label>
      <input
        type="password"
        id="password"
        class="form-control form-control-lg"
        formControlName="password"
        [class]="{
          'is-invalid': f['password'].touched && f['password'].invalid
        }"
      />

      @if (f['password'].touched && f['password'].invalid) {
      <div class="invalid-feedback">
        @if (f['password'].errors?.['required']) {
        <div>Password richiesta.</div>
        } @if (f['password'].errors?.['minlength']) {
        <div>La password deve essere lunga almeno 6 caratteri.</div>
        }
      </div>
      }
    </div>

    <div class="form-group">
      <button type="submit" class="btn btn-primary w-100 btn-lg">Accedi</button>
    </div>

    <div class="text-center mt-3">
      <span>Non sei iscritto? </span>
      <a routerLink="/auth/sign-in" class="text-primary"> Iscriviti </a>
    </div>
  </form>
</div>
