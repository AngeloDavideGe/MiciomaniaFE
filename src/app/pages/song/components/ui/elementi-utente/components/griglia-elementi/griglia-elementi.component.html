<div class="row justify-content-center align-items-stretch">
  <div class="grid-card-layout px-2">
    <!-- Sezione Manga -->
    @if (eu && eu.mangaUtente && eu.mangaUtente.idUtente) {
      <app-card-custom
        [link]="eu.mangaUtente.copertina || defaultMangaPic"
        [titolo]="eu.mangaUtente.nome"
        [descrizioneHTML]="
          `Genere: <strong>${eu.mangaUtente.genere}</strong><br>
          Autore: <em>${eu.mangaUtente.idUtente}</em>`
        "
        [classBody]="'manga-class'"
        [titoloBottone]="elemLang.scarica"
        [tipo]="'Manga'"
        [altezzaImg]="'20rem'"
        (clickBotton)="msu.downloadManga(eu.mangaUtente)"
      ></app-card-custom>
    } @else {
      <app-card-custom
        [link]="defaultMangaPic"
        [titolo]="elemLang.noManga"
        [classBody]="'manga-class'"
        [titoloBottone]="''"
        [altezzaImg]="'20rem'"
        (clickBotton)="(null)"
      ></app-card-custom>
    }

    <!-- Sezione Canzone -->
    @if (eu && eu.canzoniUtente && eu.canzoniUtente.idUtente) {
      <app-card-custom
        [titolo]="eu.mangaUtente.nome"
        [link]="eu.mangaUtente.copertina || defaultSongPic"
        [descrizioneHTML]="
          `Genere: <strong>${eu.canzoniUtente.genere}</strong><br>
          Autore: <em>${eu.canzoniUtente.idUtente}</em>`
        "
        [altezzaImg]="'20rem'"
        [tipo]="'Song'"
        [classBody]="'manga-class'"
        [setCanzone]="msu.sc.currentCanzone()"
        (clickBotton)="msu.playSong(eu.mangaUtente)"
        (click2Botton)="msu.sc.stopSong()"
      ></app-card-custom>
    } @else {
      <app-card-custom
        [link]="defaultSongPic"
        [titolo]="elemLang.noCanzone"
        [classBody]="'manga-class'"
        [titoloBottone]="''"
        [altezzaImg]="'20rem'"
        (clickBotton)="(null)"
      ></app-card-custom>
    }

    <!-- Sezione Proposta -->
    <div class="card proposal-card fixed-size-card" style="width: 20rem">
      <div
        class="card-body d-flex flex-column align-items-center justify-content-center text-center p-4"
      >
        @if (creaProposta.punteggio) {
          <div class="proposal-content">
            <div class="mb-3">
              <i class="bi bi-send-check display-4 text-success"></i>
            </div>
            <p class="text-muted mb-3">
              {{ elemLang.noProposteSospese }}
            </p>
            <button
              class="btn btn-outline-success btn-lg rounded-pill px-4"
              style="border-radius: 20px"
              (click)="creaProposta.componente = true"
            >
              <i class="bi bi-plus-circle me-1"></i>
              {{ elemLang.inviaProposta }}
            </button>
          </div>
        } @else {
          <div class="proposal-content">
            <div class="mb-3">
              <i class="bi bi-send display-4 text-muted"></i>
            </div>
            <p class="text-muted mb-2">
              {{ elemLang.noProposteSospese }}
            </p>
            <p class="text-muted mb-4">
              {{
                elemLang.nonHaiPunti +
                  " (" +
                  userPunteggio +
                  " su " +
                  punteggioNecessario +
                  ")"
              }}
            </p>
            <button
              class="btn btn-outline-secondary btn-lg rounded-pill px-4"
              style="border-radius: 20px"
              disabled
            >
              <i class="bi bi-lock me-1"></i>
              {{ elemLang.inviaProposta }}
            </button>
          </div>
        }
      </div>
    </div>
  </div>
</div>
